"use strict";var loginInfoObj,cookieObj=myGetCookie();function setHTML(){var a,e,o,c,i,n=window.localStorage.getItem("cart");console.log(n),"null"!==n&&0!==JSON.parse(n).length?(n=JSON.parse(n),a=!0,c=o=e=0,i=' \n                      <div class="panel panel-info ">\n                        <div class="panel-body bg-info">\n                          <div class="checkbox">\n                            <label>\n                              <input type="checkbox" value="" name="all" >\n                              全选\n                            </label>\n                          </div>\n                        </div>\n                        <div class="panel-footer">\n                          <ul class="cart-list">',n.forEach(function(n,t){n.buy?(e++,o+=n.num,c+=n.num*(n.price/100)):a=!1,i+='\n                  <li class="cart-item">\n                    <div class="left">  \n                      <input name="other" type="checkbox" '.concat(n.buy?"checked":""," skuName=").concat(n.skuName,'>\n                    </div>\n                    <div class="right">\n                      <div class="media">\n                        <div class="media-left">\n                          <a href="#">\n                            <img class="media-object" src="https://product-online.cdn.bcebos.com/').concat(n.picture.picId,'" alt="...">\n                          </a>\n                        </div>\n                        <div class="media-body">\n                          <h4 class="media-heading">').concat(n.skuName,'</h4>\n                          <p>\n                            <i class="glyphicon glyphicon-yen"></i>\n                            <span>').concat(n.price/100,'</span>\n                          </p>\n                          <div class="btn-group pull-right" role="group" aria-label="...">\n                            <button type="button" class="btn btn-default" name=\'decrease\' skuNo=').concat(n.skuNo," ").concat(1===n.num?"disabled":"",'>-</button>\n                            <button type="button" class="btn btn-default" disabled>').concat(n.num,'</button>\n                            <button type="button" class="btn btn-default" name=\'increase\' skuNo=').concat(n.skuNo,' }>+</button>\n                          </div>\n                          <button class="del btn btn-danger" name="del" skuNo=').concat(n.skuNo,">我不要了</button>\n  \n                        </div>\n                      </div>\n                    </div>\n                  </li>\n            \n            \n            ")}),i+="      \n                </ul>\n              </div>\n            </div>\n        <div>\n          <h1><span>共".concat(e,"种商品,已选择").concat(o,"件</span><span>").concat(c.toFixed(2),"元</span></h1>\n         \n        </div>"),$(".container").html(i),$('[name="all"]').prop("checked",a)):$(".container").html("<h1>购物车里空空的哟</h1>")}console.log(cookieObj),cookieObj.login&&(1===(loginInfoObj=JSON.parse(cookieObj.login)).login?(console.log("已登录"),$("a[name=login]").html("欢迎您，"+loginInfoObj.name)):$("a[name=login]").html("登录")),$("[name=login]").click(function(){window.location.href="./login.html?url=".concat(window.location.href)}),setHTML(),$(".container").click(function(a){var e=JSON.parse(window.localStorage.getItem("cart"));"all"===$(a.target).attr("name")&&e.forEach(function(n,t){n.buy=$(a.target).prop("checked")}),"other"===$(a.target).attr("name")&&e.forEach(function(n,t){n.skuName===$(a.target).attr("skuName")&&(n.buy=$(a.target).prop("checked"))}),"decrease"===$(a.target).attr("name")&&e.forEach(function(n,t){n.skuNo===$(a.target).attr("skuNo")&&(1===n.num?($(a.target).attr("disabled","disabled"),window.alert("此商品不能在减少了哟")):n.num--)}),"increase"===$(a.target).attr("name")&&e.forEach(function(n,t){n.skuNo===$(a.target).attr("skuNo")&&n.num++}),"del"===$(a.target).attr("name")&&e.forEach(function(n,t){n.skuNo===$(a.target).attr("skuNo")&&e.splice(t,1)}),window.localStorage.setItem("cart",JSON.stringify(e)),setHTML()});