"use strict";function _classCallCheck(e,i){if(!(e instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,i){for(var t=0;t<i.length;t++){var n=i[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _createClass(e,i,t){return i&&_defineProperties(e.prototype,i),t&&_defineProperties(e,t),e}var Banner=function(){function t(e,i){_classCallCheck(this,t),this.ele=e,this.arr=i,this.oUl=this.ele.querySelector("#banner ul"),this.oOl=this.ele.querySelector("#banner ol"),this.oDiv=this.ele.querySelector("#banner div"),this.ulLiWidth,this.index=1,this.timer,this.oLis={},this.isRunning=!0}return _createClass(t,[{key:"init",value:function(){this.setLi(this.arr),this.doLoop(),this.mouseInOut(),this.setActiveChange(),this.hid()}},{key:"setLi",value:function(e){var t="",n="";e.forEach(function(e,i){n+='<li num="'.concat(i,0===i?'" name="olli" class="active"></li>':'" name="olli"></li>'),t+="<li><img src='images/".concat(e.path,"'></li>")}),this.oUl.innerHTML=t,this.oOl.innerHTML=n,this.oUl.appendChild(this.ele.querySelectorAll("ul li")[0].cloneNode(!0)),this.oUl.insertBefore(this.ele.querySelectorAll("ul li")[e.length-1].cloneNode(!0),this.ele.querySelectorAll("ul li")[0]),this.oLis=this.oOl.querySelectorAll("li"),this.ulLiWidth=this.ele.querySelectorAll("ul li")[0].offsetWidth,this.oUl.style.width=this.ulLiWidth*(e.length+2)+"px",this.oUl.style.left="-".concat(this.index*this.ulLiWidth,"px")}},{key:"doLoop",value:function(){var e=this;this.timer=setInterval(function(){e.index++,e.setLiStyle(),move(e.oUl,{left:-e.index*e.ulLiWidth},e.loopEnd.bind(e))},3e3)}},{key:"loopEnd",value:function(){this.index===this.arr.length+1?this.index=1:0===this.index&&(this.index=this.arr.length),this.oUl.style.left="".concat(-this.index*this.ulLiWidth,"px"),this.isRunning=!0}},{key:"setLiStyle",value:function(){this.oLis.forEach(function(e,i){myRemoveClass(e,"active")}),this.index===this.arr.length+1?this.oLis[0].className+=" active":0===this.index?this.oLis[this.arr.length-1].className+=" active":this.oLis[this.index-1].className+=" active"}},{key:"mouseInOut",value:function(){var i=this;this.ele.addEventListener("mouseenter",function(e){clearInterval(i.timer),i.oDiv.style.display="flex"}),this.ele.addEventListener("mouseleave",function(e){i.doLoop(),i.oDiv.style.display="none"})}},{key:"setActiveChange",value:function(){var i=this;this.ele.addEventListener("click",function(e){"left"===(e=e||window.event).target.getAttribute("name")?i.isRunning&&(i.isRunning=!1,i.index--,i.setLiStyle(),move(i.oUl,{left:-i.index*i.ulLiWidth},i.loopEnd.bind(i))):"right"===e.target.getAttribute("name")?i.isRunning&&(i.isRunning=!1,i.index++,i.setLiStyle(),move(i.oUl,{left:-i.index*i.ulLiWidth},i.loopEnd.bind(i))):"olli"===e.target.getAttribute("name")&&i.isRunning&&(i.isRunning=!1,i.index=+e.target.getAttribute("num")+1,i.setLiStyle(),move(i.oUl,{left:-i.index*i.ulLiWidth},i.loopEnd.bind(i)))})}},{key:"hid",value:function(){var e=this;document.addEventListener("visibilitychange",function(){"hidden"===document.visibilityState?clearInterval(e.timer):"visible"===document.visibilityState&&e.doLoop()})}}]),t}();